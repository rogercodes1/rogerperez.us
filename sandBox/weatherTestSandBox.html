<!DOCTYPE html>
<html>
<head>

      <!-- <link rel="stylesheet" type="text/css" href="css/quoteStyles.css"> -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
      </script>
</head>
<body>

    <h1>Click the button to get your coordinates.</h1>

    <button onclick="getLocation()">Try It</button>

    <p id="demo"></p>
    <p id="demo2"></p>

    </div>


<script>
var lon, lan;
// var example='http://api.wunderground.com/api/8a8af55ae16c8627/geolookup/q/34.4277882,-119.7034209.json'; //Examples of completed coordinates
// var exampleCity="http://api.wunderground.com/api/8a8af55ae16c8627/conditions/q/CA/Santa_Barbara.json"; //example City.
var freeCodeApi= "https://fcc-weather-api.glitch.me/api/current?";

var geoLocal = document.getElementById("geoLocal");
var temp= document.getElementById("temp");
var temp_c= document.getElementById("temp_c");
var x = document.getElementById("demo");
var x2 = document.getElementById("demo2");

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else {
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
    x.innerHTML = "Latitude: " + position.coords.latitude;
    x2.innerHTML= "Longitude: " + position.coords.longitude;
    lan=position.coords.latitude;
    lon=position.coords.longitude;
    var both=[lan,lon];
    return both;

}
lan=both[0];
lon=both[1];
console.log("lan: ",lan,"lon: ",lon);

var weather= new XMLHttpRequest();
weather.open("GET",freeCodeApi, false);
weather.send(null);

var myRequest= JSON.parse(weather.response);


var weather2= new XMLHttpRequest();
weather2.open("GET", weatherURL, false);
weather2.send(null);

var secRequest=JSON.parse(weather2.response);
var tempWeather= secRequest.current_observation.temp_f +" Â°"+"F";
var cTemp= "Celcius: " + secRequest.current_observation.temp_c;
console.log(temp);
var outputTemp= "Fahrenheit: " + tempWeather;
temp.innerHTML=outputTemp;
temp_c.innerHTML=cTemp;
// return fTemp;

</script>


</body>
<!-- <script src="sandBox/weatherTestSandBox.js"></script> -->
<!-- <script src="JSON/weather.json"></script> -->
